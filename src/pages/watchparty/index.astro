---
import Base from '../../layouts/Base.astro';
---

<Base title="Hadoku - Watch Party">
  <!-- Full-screen container with no overflow -->
  <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">
    <!-- Isolated container for micro-frontend -->
    <div id="root" data-app="watchparty" style="all: initial; display: block; width: 100%; height: 100%;"></div>
    
    <!-- Home button overlay (fixed position, top-left) -->
    <a 
      href="/" 
      id="home-button"
      style="
        position: fixed;
        top: 1rem;
        left: 1rem;
        z-index: 9999;
        padding: 0.5rem 1rem;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        text-decoration: none;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      "
      onmouseover="this.style.background='rgba(0, 0, 0, 0.85)'; this.style.transform='translateY(-1px)'"
      onmouseout="this.style.background='rgba(0, 0, 0, 0.7)'; this.style.transform='translateY(0)'"
    >
      <span style="font-size: 1.2rem;">‚Üê</span>
      <span>Home</span>
    </a>
  </div>
  
  <!-- React peer dependencies for watchparty micro-frontend -->
  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@19.0.0",
        "react-dom/client": "https://esm.sh/react-dom@19.0.0/client"
      }
    }
  </script>
  
  <script src="../../components/mf-loader.js"></script>
</Base>

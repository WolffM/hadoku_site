name = "task-api"
main = "src/index.ts"
compatibility_date = "2025-10-11"
workers_dev = false

# Build configuration
[build]
command = ""

# Tell esbuild to treat node_modules as resolvable
node_compat = true

# Bind the API paths to your domain
routes = [
  { pattern = "task-api.hadoku.me/task/api/*", zone_name = "hadoku.me" },
  { pattern = "task-api.hadoku.me/task/api", zone_name = "hadoku.me" }
]

# Environment variables
[vars]
REPO_OWNER = "WolffM"
REPO_NAME = "hadoku_site"
REPO_BRANCH = "main"

# Secrets (set via: wrangler secret put <NAME>)
# - ADMIN_KEY: Admin access key
# - FRIEND_KEY: Friend access key  
# - GITHUB_PAT: GitHub Personal Access Token for API access

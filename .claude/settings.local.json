{
  "permissions": {
    "allow": [
      "Bash(for file in *.py)",
      "Bash(do python -c \"\nimport sys\nwith open(''$file'', ''r'', encoding=''utf-8'') as f:\n    lines = f.readlines()\n\n# Remove duplicate encoding lines\ncleaned = []\nseen_encoding = False\nfor i, line in enumerate(lines):\n    if ''coding: utf-8'' in line or ''coding=utf-8'' in line:\n        if not seen_encoding:\n            seen_encoding = True\n            cleaned.append(line)\n    else:\n        cleaned.append(line)\n        if i == 0 and line.startswith(''#!''):\n            seen_encoding = False\n\n# Ensure encoding is on line 2 if shebang exists\nif len(cleaned) > 0 and cleaned[0].startswith(''#!''):\n    if len(cleaned) < 2 or ''coding'' not in cleaned[1]:\n        cleaned.insert(1, ''# -*- coding: utf-8 -*-\\n'')\n\nwith open(''$file'', ''w'', encoding=''utf-8'') as f:\n    f.writelines(cleaned)\n\")"
    ],
    "deny": [],
    "ask": []
  }
}
